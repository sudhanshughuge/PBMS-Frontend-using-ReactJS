{"ast":null,"code":"import _objectSpread from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import base_url from\"../api/Service\";import{getToken}from\"../auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateUser(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),oldUser=_useState4[0],setOldUser=_useState4[1];var handleForm=function handleForm(e){e.preventDefault();putDatatoServer(user);};var _useParams=useParams(),updateUserid=_useParams.updateUserid;var putDatatoServer=function putDatatoServer(user){axios.put(\"\".concat(base_url,\"/api/users/\").concat(updateUserid),user,{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){toast.success(\"User Details Updated Successfully\",{toastId:\"propaddedtoast\"});},function(error){console.log(error);});};var getOldUserData=function getOldUserData(){axios.get(\"\".concat(base_url,\"/api/users/\").concat(updateUserid),{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){console.log(response.data);setOldUser(response.data);setUser(response.data);},function(error){console.log(error);});};useEffect(function(){getOldUserData();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"justify-content-center text-center\",onSubmit:handleForm,action:\" \",method:\"post\",id:\"signup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info text-center w-100 p-3 ml-3\",role:\"alert\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Update User Details\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"Name\",placeholder:\"Enter Your Name\",className:\"form-control m-3\",defaultValue:oldUser.name,type:\"text\",onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{name:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"Username\",placeholder:\"Enter UserName\",className:\"form-control m-3\",defaultValue:oldUser.username,type:\"text\",onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{username:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",placeholder:\"Enter Your E-Mail Address\",className:\"form-control m-3\",defaultValue:oldUser.email,type:\"email\",onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group \",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control m-3\",id:\"roles\",defaultValue:oldUser.role,value:oldUser.role,onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{role:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{value:'',children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:'ROLE_NORMAL',children:\"Normal\"},1),/*#__PURE__*/_jsx(\"option\",{value:'ROLE_ADMIN',children:\"Admin\"},2)]})}),/*#__PURE__*/_jsx(\"input\",{id:\"Password\",placeholder:\"Enter Password\",className:\"form-control m-3\",type:\"password\",onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{id:\"ConfirmPassword\",placeholder:\"Confirm Password\",className:\"form-control m-3\",type:\"password\",onChange:function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard/admin\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-warning mx-3\",children:\"Back\"})})]})})})})});}export default UpdateUser;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useParams","toast","base_url","getToken","UpdateUser","user","setUser","oldUser","setOldUser","handleForm","e","preventDefault","putDatatoServer","updateUserid","put","headers","then","response","success","toastId","error","console","log","getOldUserData","get","data","name","target","value","username","email","role","password"],"sources":["C:/Major Project/ProjectFrontend/pbms/src/components/UpdateUser.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport base_url from \"../api/Service\";\r\nimport { getToken } from \"../auth\";\r\n\r\nfunction UpdateUser() {\r\n    const [user, setUser] = useState({})\r\n    const [oldUser, setOldUser] = useState({})\r\n\r\n    const handleForm = (e) => {\r\n        e.preventDefault();\r\n        putDatatoServer(user);\r\n    }\r\n\r\n    const {updateUserid} = useParams();\r\n\r\n    const putDatatoServer = (user) => {\r\n        axios.put(`${base_url}/api/users/${updateUserid}`, user, {headers: {\"Authorization\" : `Bearer ${getToken()}`}}).then(\r\n            (response) => {\r\n                toast.success(\"User Details Updated Successfully\", {\r\n                    toastId: \"propaddedtoast\"\r\n                })\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n            }\r\n        )\r\n    }\r\n\r\n    const getOldUserData = () => {\r\n\r\n        axios.get(`${base_url}/api/users/${updateUserid}`, {headers: {\"Authorization\" : `Bearer ${getToken()}`}}).then(\r\n            (response) => {\r\n                console.log(response.data)\r\n                setOldUser(response.data)\r\n                setUser(response.data)\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        getOldUserData();\r\n        // eslint-disable-next-line\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container-fluid \">\r\n                <div className=\"row col-12\">\r\n\r\n                    <div className=\"w-100\">\r\n                        <form className=\"justify-content-center text-center\" onSubmit={handleForm} action=\" \" method=\"post\" id=\"signup\">\r\n\r\n                            <div className=\"alert alert-info text-center w-100 p-3 ml-3\" role=\"alert\">\r\n                                <h2>Update User Details</h2>\r\n                            </div>\r\n                            <input id=\"Name\" placeholder=\"Enter Your Name\" className=\"form-control m-3\" defaultValue={oldUser.name}  type=\"text\" onChange={(e) => {\r\n                                setUser({ ...user, name: e.target.value })\r\n                            }} />\r\n                            <input id=\"Username\" placeholder=\"Enter UserName\" className=\"form-control m-3\" defaultValue={oldUser.username} type=\"text\" onChange={(e) => {\r\n                                setUser({ ...user, username: e.target.value })\r\n                            }} />\r\n                            <input id=\"email\" placeholder=\"Enter Your E-Mail Address\" className=\"form-control m-3\" defaultValue={oldUser.email} type=\"email\" onChange={(e) => {\r\n                                setUser({ ...user, email: e.target.value })\r\n                            }} />\r\n                            <div className=\"form-group \">\r\n                                <select className=\"form-control m-3\" id=\"roles\" defaultValue={oldUser.role} value={oldUser.role} onChange={(e) => {\r\n                                    setUser({ ...user, role: e.target.value })\r\n                                }}>\r\n                                    <option value={''}>Select Role</option>\r\n                                    <option key={1} value={'ROLE_NORMAL'}>Normal</option>\r\n                                    <option key={2} value={'ROLE_ADMIN'}>Admin</option>\r\n\r\n                                </select>\r\n                            </div>\r\n                            <input id=\"Password\" placeholder=\"Enter Password\" className=\"form-control m-3\" type=\"password\" onChange={(e) => {\r\n                                setUser({ ...user, password: e.target.value })\r\n                            }} />\r\n                            <input id=\"ConfirmPassword\" placeholder=\"Confirm Password\" className=\"form-control m-3\" type=\"password\" onChange={(e) => {\r\n                                setUser({ ...user, password: e.target.value })\r\n                            }} />\r\n\r\n                            <button type=\"submit\" className=\"btn btn-outline-success\">Sign Up</button>\r\n                            <Link to=\"/dashboard/admin\"><button className=\"btn btn-outline-warning mx-3\">Back</button></Link>\r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default UpdateUser"],"mappings":"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"},"metadata":{},"sourceType":"module"}