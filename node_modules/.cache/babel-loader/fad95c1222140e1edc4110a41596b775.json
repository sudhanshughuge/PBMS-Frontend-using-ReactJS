{"ast":null,"code":"export const isLoggedIn = () => {\n  let data = localStorage.getItem(\"data\");\n\n  if (data == null) {\n    return false;\n  } else {\n    return true;\n  }\n};\nexport const doLogin = (data, next) => {\n  localStorage.setItem(\"data\", JSON.stringify(data));\n  next();\n};\nexport const doLogout = next => {\n  localStorage.removeItem(\"data\");\n  next();\n};\nexport const getCurrentUserDetails = () => {\n  if (isLoggedIn) {\n    return JSON.parse(localStorage.getItem(\"data\")).user;\n  } else {\n    return {};\n  }\n};\nexport const checkAdmin = () => {\n  const userRoles = getCurrentUserRoles();\n  console.log(userRoles[0].name);\n  console.log(userRoles.name);\n\n  if (userRoles.name === 'ROLE_ADMIN') {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const getCurrentUserRoles = () => {\n  if (isLoggedIn) {\n    return JSON.parse(localStorage.getItem(\"data\")).user.roles;\n  } else {\n    return {};\n  }\n};\nexport const getToken = () => {\n  return JSON.parse(localStorage.getItem(\"data\")).token;\n};","map":{"version":3,"names":["isLoggedIn","data","localStorage","getItem","doLogin","next","setItem","JSON","stringify","doLogout","removeItem","getCurrentUserDetails","parse","user","checkAdmin","userRoles","getCurrentUserRoles","console","log","name","roles","getToken","token"],"sources":["C:/Major Project/ProjectFrontend/pbms/src/auth/index.js"],"sourcesContent":["\r\nexport const isLoggedIn=()=>{\r\n    let data = localStorage.getItem(\"data\")\r\n    if(data==null){\r\n        return false;\r\n    }\r\n    else{\r\n        return true;\r\n    }\r\n}\r\n\r\nexport const doLogin=(data,next)=>{\r\n    localStorage.setItem(\"data\",JSON.stringify(data))\r\n    next()\r\n}\r\n\r\nexport const doLogout=(next)=>{\r\n    localStorage.removeItem(\"data\")\r\n    next()\r\n}\r\n\r\nexport const getCurrentUserDetails=()=>{\r\n    if(isLoggedIn){\r\n        return JSON.parse(localStorage.getItem(\"data\")).user;\r\n    } else{\r\n        return {}\r\n    }\r\n}\r\n\r\nexport const checkAdmin=()=>{\r\n    const userRoles = getCurrentUserRoles()\r\n    console.log(userRoles[0].name)\r\n    console.log(userRoles.name)\r\n    if(userRoles.name === 'ROLE_ADMIN'){\r\n        return true\r\n    } else{\r\n        return false\r\n    }\r\n}\r\n\r\nexport const getCurrentUserRoles=()=>{\r\n    if(isLoggedIn){\r\n        return JSON.parse(localStorage.getItem(\"data\")).user.roles;\r\n    } else{\r\n        return {}\r\n    }\r\n}\r\n\r\nexport const getToken=()=>{\r\n    return JSON.parse(localStorage.getItem(\"data\")).token;\r\n}"],"mappings":"AACA,OAAO,MAAMA,UAAU,GAAC,MAAI;EACxB,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;EACA,IAAGF,IAAI,IAAE,IAAT,EAAc;IACV,OAAO,KAAP;EACH,CAFD,MAGI;IACA,OAAO,IAAP;EACH;AACJ,CARM;AAUP,OAAO,MAAMG,OAAO,GAAC,CAACH,IAAD,EAAMI,IAAN,KAAa;EAC9BH,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAA5B;EACAI,IAAI;AACP,CAHM;AAKP,OAAO,MAAMI,QAAQ,GAAEJ,IAAD,IAAQ;EAC1BH,YAAY,CAACQ,UAAb,CAAwB,MAAxB;EACAL,IAAI;AACP,CAHM;AAKP,OAAO,MAAMM,qBAAqB,GAAC,MAAI;EACnC,IAAGX,UAAH,EAAc;IACV,OAAOO,IAAI,CAACK,KAAL,CAAWV,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCU,IAAhD;EACH,CAFD,MAEM;IACF,OAAO,EAAP;EACH;AACJ,CANM;AAQP,OAAO,MAAMC,UAAU,GAAC,MAAI;EACxB,MAAMC,SAAS,GAAGC,mBAAmB,EAArC;EACAC,OAAO,CAACC,GAAR,CAAYH,SAAS,CAAC,CAAD,CAAT,CAAaI,IAAzB;EACAF,OAAO,CAACC,GAAR,CAAYH,SAAS,CAACI,IAAtB;;EACA,IAAGJ,SAAS,CAACI,IAAV,KAAmB,YAAtB,EAAmC;IAC/B,OAAO,IAAP;EACH,CAFD,MAEM;IACF,OAAO,KAAP;EACH;AACJ,CATM;AAWP,OAAO,MAAMH,mBAAmB,GAAC,MAAI;EACjC,IAAGhB,UAAH,EAAc;IACV,OAAOO,IAAI,CAACK,KAAL,CAAWV,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCU,IAAzC,CAA8CO,KAArD;EACH,CAFD,MAEM;IACF,OAAO,EAAP;EACH;AACJ,CANM;AAQP,OAAO,MAAMC,QAAQ,GAAC,MAAI;EACtB,OAAOd,IAAI,CAACK,KAAL,CAAWV,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCmB,KAAhD;AACH,CAFM"},"metadata":{},"sourceType":"module"}