{"ast":null,"code":"import _objectSpread from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect}from\"react\";import{useState}from\"react\";import{toast}from\"react-toastify\";import base_url from\"../api/Service\";import Base from\"./Base\";import{doLogin}from\"../auth\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();useEffect(function(){document.title=\"Property Booking Management System\";},[]);var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var checkLogin=function checkLogin(login){axios.post(\"\".concat(base_url,\"/api/v1/auth/login\"),login).then(function(response){console.log(response.data);doLogin(response.data,function(){console.log(\"Login details saved to local storage\");navigate(\"/dashboard\");});toast.success(\"Login Successfull\",{toastId:\"loginsuccesstoast\"});},function(error){console.log(error);toast.error(\"Invalid Username or Password\",{toastId:\"loginerrortoast\"});});};var handleForm=function handleForm(e){e.preventDefault();if(login.username.trim()===\"\"||login.password.trim()===''){toast.error(\"Username or Password can not be Blank !\");return;}checkLogin(login);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Base,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-center align-items-center h-90 my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.postimg.cc/wxXq8DsB/Sketch.png\",height:500,width:650,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 \",children:/*#__PURE__*/_jsxs(\"form\",{className:\"justify-content-center text-center\",onSubmit:handleForm,action:\"/\",method:\"post\",id:\"login_form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row align-items-center justify-content-center justify-content-lg-start\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Login Here\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"form-control form-control-lg\",placeholder:\"Enter User Name\",onChange:function onChange(e){setLogin(_objectSpread(_objectSpread({},login),{},{username:e.target.value}));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"form-control form-control-lg\",placeholder:\"Enter password\",onChange:function onChange(e){setLogin(_objectSpread(_objectSpread({},login),{},{password:e.target.value}));}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-lg-start mt-4 pt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success\",children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"btn btn-outline-danger mx-3\",children:\"Reset\"})]})]})})]})})})});}export default Login;","map":{"version":3,"names":["axios","React","useEffect","useState","toast","base_url","Base","doLogin","useNavigate","Login","navigate","document","title","username","password","login","setLogin","checkLogin","post","then","response","console","log","data","success","toastId","error","handleForm","e","preventDefault","trim","target","value"],"sources":["C:/Major Project/ProjectFrontend/pbms/src/components/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport base_url from \"../api/Service\";\r\nimport Base from \"./Base\";\r\nimport { doLogin } from \"../auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        document.title = \"Property Booking Management System\"\r\n    }, [])\r\n\r\n\r\n    const [login, setLogin] = useState({\r\n        username:'',\r\n        password:''\r\n    })\r\n\r\n    const checkLogin = (login) => {\r\n        axios.post(`${base_url}/api/v1/auth/login`, login).then(\r\n            (response) => {\r\n                console.log(response.data)\r\n                doLogin(response.data,()=>{\r\n                    console.log(\"Login details saved to local storage\")\r\n                    navigate(\"/dashboard\")\r\n                })\r\n\r\n                toast.success(\"Login Successfull\", {\r\n                    toastId: \"loginsuccesstoast\"\r\n                })\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n                toast.error(\"Invalid Username or Password\",{\r\n                    toastId: \"loginerrortoast\"\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleForm = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if(login.username.trim() === \"\" || login.password.trim() === ''){\r\n            toast.error(\"Username or Password can not be Blank !\")\r\n            return;\r\n        }\r\n\r\n        checkLogin(login)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Base>\r\n                <div className=\"container\">\r\n                    <div className=\"row d-flex justify-content-center align-items-center h-90 my-5\">\r\n                        <div className=\"col-8\">\r\n                            <img src=\"https://i.postimg.cc/wxXq8DsB/Sketch.png\" height={500} width={650} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"col-4 \">\r\n                            <form className=\"justify-content-center text-center\" onSubmit={handleForm} action=\"/\" method=\"post\" id=\"login_form\">\r\n                                <div className=\"d-flex flex-row align-items-center justify-content-center justify-content-lg-start\">\r\n                                    <h4 className=\"mb-4\">Login Here</h4>\r\n                                </div>\r\n                                <div className=\"form-outline mb-4\">\r\n                                    <input type=\"text\" id=\"username\" className=\"form-control form-control-lg\"\r\n                                        placeholder=\"Enter User Name\" onChange={(e) => {\r\n                                            setLogin({ ...login, username: e.target.value })\r\n                                        }} />\r\n                                </div>\r\n                                <div className=\"form-outline mb-3\">\r\n                                    <input type=\"password\" id=\"password\" className=\"form-control form-control-lg\"\r\n                                        placeholder=\"Enter password\" onChange={(e) => {\r\n                                            setLogin({ ...login, password: e.target.value })\r\n                                        }} />\r\n                                </div>\r\n                                <div className=\"text-center text-lg-start mt-4 pt-2\">   \r\n                                <button type=\"submit\" className=\"btn btn-outline-success\">Login</button>\r\n                                <button type=\"reset\" className=\"btn btn-outline-danger mx-3\">Reset</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Base>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}