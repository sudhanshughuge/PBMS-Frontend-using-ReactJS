{"ast":null,"code":"import _objectSpread from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import base_url from\"../api/Service\";import{getToken}from\"../auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateBooking(){useEffect(function(){document.title=\"Update Property || Property Booking Management System\";},[]);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),booking=_useState2[0],setBooking=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),oldbooking=_useState4[0],setOldBooking=_useState4[1];var handleForm=function handleForm(e){putDatatoServer(booking);e.preventDefault();};var _useParams=useParams(),updateBookid=_useParams.updateBookid;var putDatatoServer=function putDatatoServer(booking){axios.put(\"\".concat(base_url,\"/bookings/\").concat(updateBookid),booking,{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){toast.success(\"Booking Updated Successfully\",{toastId:\"propaddedtoast\"});},function(error){console.log(error);});};var getOldBookingData=function getOldBookingData(){axios.get(\"\".concat(base_url,\"/bookings/\").concat(updateBookid),{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){setOldBooking(response.data);setBooking(response.data);},function(error){console.log(error);});};useEffect(function(){getOldBookingData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"justify-content-center text-center\",onSubmit:handleForm,action:\"/\",method:\"post\",id:\"customer_update_form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info text-center w-100 p-3 ml-3\",role:\"alert\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Update Booking Details\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"BookID\",placeholder:\"Booking ID\",className:\"form-control m-3\",type:\"text\",disabled:true,defaultValue:updateBookid}),/*#__PURE__*/_jsx(\"input\",{name:\"CustName\",placeholder:\"Enter Customer Name\",className:\"form-control m-3\",type:\"text\",disabled:true,defaultValue:oldbooking.cname}),/*#__PURE__*/_jsx(\"input\",{name:\"PropName\",placeholder:\"Enter Property Name\",className:\"form-control m-3\",type:\"text\",disabled:true,defaultValue:oldbooking.pname}),/*#__PURE__*/_jsx(\"input\",{name:\"PropRate\",placeholder:\"Enter Property Rate\",className:\"form-control m-3\",disabled:true,type:\"text\",defaultValue:oldbooking.rate}),/*#__PURE__*/_jsx(\"input\",{name:\"BookingAmount\",placeholder:\"Enter Booking Amount\",className:\"form-control m-3\",type:\"text\",defaultValue:oldbooking.bookingAmount,onChange:function onChange(e){setBooking(_objectSpread(_objectSpread({},booking),{},{bookingAmount:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success mx-3\",children:\"Update Booking\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard/viewbookings\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-warning mx-3\",children:\"Back\"})})]})})})})});}export default UpdateBooking;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useParams","toast","base_url","getToken","UpdateBooking","document","title","booking","setBooking","oldbooking","setOldBooking","handleForm","e","putDatatoServer","preventDefault","updateBookid","put","headers","then","response","success","toastId","error","console","log","getOldBookingData","get","data","cname","pname","rate","bookingAmount","target","value"],"sources":["C:/Major Project/ProjectFrontend/pbms/src/components/UpdateBooking.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport base_url from \"../api/Service\";\r\nimport { getToken } from \"../auth\";\r\n\r\nfunction UpdateBooking() {\r\n\r\n    useEffect(() => {\r\n        document.title = \"Update Property || Property Booking Management System\"\r\n    }, [])\r\n\r\n    const [booking, setBooking] = useState({})\r\n    const [oldbooking, setOldBooking] = useState({})\r\n\r\n    const handleForm = (e) => {\r\n        putDatatoServer(booking);\r\n        e.preventDefault();\r\n    }\r\n\r\n    const {updateBookid} = useParams();\r\n\r\n    const putDatatoServer = (booking) => {\r\n        axios.put(`${base_url}/bookings/${updateBookid}`, booking, {headers: {\"Authorization\" : `Bearer ${getToken()}`}}).then(\r\n            (response) => {\r\n                toast.success(\"Booking Updated Successfully\", {\r\n                    toastId: \"propaddedtoast\"\r\n                })\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n            }\r\n        )\r\n    }\r\n\r\n    const getOldBookingData = () => {\r\n\r\n        axios.get(`${base_url}/bookings/${updateBookid}`, {headers: {\"Authorization\" : `Bearer ${getToken()}`}}).then(\r\n            (response) => {\r\n                setOldBooking(response.data)\r\n                setBooking(response.data)\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        getOldBookingData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container-fluid \">\r\n                <div className=\"row col-12\">\r\n\r\n                    <div className=\"w-100\">\r\n                        <form className=\"justify-content-center text-center\" onSubmit={handleForm} action=\"/\" method=\"post\" id=\"customer_update_form\">\r\n\r\n                            <div className=\"alert alert-info text-center w-100 p-3 ml-3\" role=\"alert\">\r\n                                <h2>Update Booking Details</h2>\r\n                            </div>\r\n                            <input id=\"BookID\" placeholder=\"Booking ID\" className=\"form-control m-3\" type=\"text\" disabled defaultValue={updateBookid} />\r\n                            <input name=\"CustName\" placeholder=\"Enter Customer Name\" className=\"form-control m-3\" type=\"text\" disabled defaultValue={oldbooking.cname}/>\r\n                            <input name=\"PropName\" placeholder=\"Enter Property Name\" className=\"form-control m-3\" type=\"text\" disabled defaultValue={oldbooking.pname}/>\r\n                            <input name=\"PropRate\" placeholder=\"Enter Property Rate\" className=\"form-control m-3\" disabled type=\"text\" defaultValue={oldbooking.rate}/>\r\n                            <input name=\"BookingAmount\" placeholder=\"Enter Booking Amount\" className=\"form-control m-3\" type=\"text\" defaultValue={oldbooking.bookingAmount} onChange={(e) => {\r\n                                setBooking({ ...booking, bookingAmount: e.target.value })\r\n                            }} />\r\n                            <button type=\"submit\" className=\"btn btn-outline-success mx-3\">Update Booking</button>\r\n                            <Link to=\"/dashboard/viewbookings\"><button className=\"btn btn-outline-warning mx-3\">Back</button></Link>\r\n                            \r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default UpdateBooking"],"mappings":"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"},"metadata":{},"sourceType":"module"}