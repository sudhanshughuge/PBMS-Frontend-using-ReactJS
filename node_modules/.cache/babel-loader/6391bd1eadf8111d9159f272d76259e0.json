{"ast":null,"code":"import _slicedToArray from\"C:/Major Project/ProjectFrontend/pbms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{toast}from\"react-toastify\";import{Table}from\"reactstrap\";import base_url from\"../api/Service\";import{getToken}from\"../auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AllUsers(){useEffect(function(){document.title=\"Admin Dashboard || Property Booking Management System\";},[]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var getAllUsersFromServer=function getAllUsersFromServer(){axios.get(\"\".concat(base_url,\"/api/users/\"),{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){toast.success(\"Users List has been Updated\",{toastId:\"loadedtoast\"});setUsers(response.data);},function(error){console.log(error);toast.error(\"Server Down\",{toastId:\"errortoast\"});});};var checkNormalUser=function checkNormalUser(userid){if(userid===1){return false;}else{return true;}};useEffect(function(){getAllUsersFromServer();},[]);var deleteDatafromServer=function deleteDatafromServer(data){axios.delete(\"\".concat(base_url,\"/api/users/\").concat(data),{headers:{\"Authorization\":\"Bearer \".concat(getToken())}}).then(function(response){toast.error(\"User Deleted\",{toastId:\"deletetoast\"});window.location.reload(false);},function(error){console.log(error);toast.info(\"You are not an Admin or Customer Not Found\",{toastId:\"deleteinfotoast\"});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info text-center w-100 p-3 ml-3\",role:\"alert\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-custom-scrollbar table-wrapper-scroll-y ml-3\",children:/*#__PURE__*/_jsxs(Table,{className:\"table table-bordered table-striped mb-0 w-100\",id:\"UsersTable\",striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",scope:\"row\",children:\"User Id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",children:\"Email ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-2\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.length>0?users.map(function(user,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",scope:\"row\",children:user.userID}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:checkNormalUser(user.userID)&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark ml-2\",onClick:function onClick(){return deleteDatafromServer(user.userID);},children:\"Delete\"})})]},i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",colSpan:6,children:\"No Properties Found or Server Down\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container text-center p-1 my-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/adduser\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary  ml-2\",children:\"Click here to Add New User\"})})})]});}export default AllUsers;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","toast","Table","base_url","getToken","AllUsers","document","title","users","setUsers","getAllUsersFromServer","get","headers","then","response","success","toastId","data","error","console","log","checkNormalUser","userid","deleteDatafromServer","delete","window","location","reload","info","length","map","user","i","userID","username","name","email","role"],"sources":["C:/Major Project/ProjectFrontend/pbms/src/components/AllUsers.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Table } from \"reactstrap\";\r\nimport base_url from \"../api/Service\";\r\nimport { getToken } from \"../auth\";\r\n\r\nfunction AllUsers() {\r\n\r\n    useEffect(() => {\r\n        document.title = \"Admin Dashboard || Property Booking Management System\"\r\n    }, [])\r\n\r\n    const [users, setUsers] = useState([])\r\n\r\n    const getAllUsersFromServer = () => {\r\n        axios.get(`${base_url}/api/users/`, { headers: { \"Authorization\": `Bearer ${getToken()}` } }).then(\r\n            (response) => {\r\n                toast.success(\"Users List has been Updated\", {\r\n                    toastId: \"loadedtoast\"\r\n                });\r\n                setUsers(response.data)\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n                toast.error(\"Server Down\", {\r\n                    toastId: \"errortoast\"\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    const checkNormalUser = (userid) => {\r\n        if (userid === 1) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAllUsersFromServer();\r\n    }, [])\r\n\r\n    const deleteDatafromServer = (data) => {\r\n        axios.delete(`${base_url}/api/users/${data}`, {headers: {\"Authorization\" : `Bearer ${getToken()}`}}).then(\r\n            (response) => {\r\n                toast.error(\"User Deleted\", {\r\n                    toastId: \"deletetoast\"\r\n                })\r\n                window.location.reload(false);\r\n            },\r\n            (error) => {\r\n                console.log(error);\r\n                toast.info(\"You are not an Admin or Customer Not Found\", {\r\n                    toastId: \"deleteinfotoast\"\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"ml-3\">\r\n            <div className=\"alert alert-info text-center w-100 p-3 ml-3\" role=\"alert\">\r\n                <h2>Users</h2>\r\n            </div>\r\n            <div className=\"my-custom-scrollbar table-wrapper-scroll-y ml-3\">\r\n                <Table className=\"table table-bordered table-striped mb-0 w-100\" id=\"UsersTable\" striped >\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"col-2\" scope=\"row\">User Id</th>\r\n                            <th className=\"col-2\">Username</th>\r\n                            <th className=\"col-2\">Name</th>\r\n                            <th className=\"col-2\">Email ID</th>\r\n                            <th className=\"col-2\">Role</th>\r\n                            <th className=\"col-2\">Delete</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            users.length > 0 ? users.map((user, i) => (\r\n                                <tr key={i}>\r\n                                    <th className=\"text-center\" scope=\"row\">{user.userID}</th>\r\n                                    <td>{user.username}</td>\r\n                                    <td>{user.name}</td>\r\n                                    <td>{user.email}</td>\r\n                                    <td>{user.role}</td>\r\n                                    <td>\r\n                                        {\r\n                                            checkNormalUser(user.userID) && (\r\n                                                <button className=\"btn btn-outline-dark ml-2\" onClick={()=>deleteDatafromServer(user.userID)}>Delete</button>\r\n                                            )\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                            )) : <tr><td className=\"text-center\" colSpan={6}>No Properties Found or Server Down</td></tr>\r\n                        }\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n            <div className=\"container text-center p-1 my-5\">\r\n                <Link to={`/dashboard/adduser`}><button className=\"btn btn-outline-primary  ml-2\">Click here to Add New User</button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AllUsers"],"mappings":"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"},"metadata":{},"sourceType":"module"}